<div class="animated fadeIn">
  <div class="row">
    <div class="col-lg-12">
      <div class="card card-accent-info">
        <div class="card-header">
          <button type="button" data-toggle="modal" (click)="primaryModal.show()" class="btn btn-outline-primary"><i
              class="fa fa-plus-circle"></i> Ajouter</button>
          <div class="card-header-actions">
            <a href="#">
              <i class="icon-cloud-download mr-2"></i><small class="text-muted mr-3">Export</small>
            </a>
          </div>
        </div>
        <div bsModal #primaryModal="bs-modal" [config]="{backdrop: 'static', keyboard: false}" class="modal fade"
          tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
          <div class="modal-dialog modal-primary" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title">Consommation Carburant</h5>
                <button type="button" class="close" (click)="primaryModal.hide()" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <div class="modal-body">
                <div class="animated fadeIn">
                  <div class="row">
                    <div class="col-lg-6">
                      <div class="card">
                        <div class="card-header">
                          Information consommation
                        </div>
                        <div class="card-body">
                          <div class="form-group row">
                            <label class=" col-md-2 col-form-label" for="text-input">N° fiche</label>
                            <div class="col-4">
                              <input type="number" id="text-input" #fiche name="fiche" class="form-control">
                            </div>
                          </div>
                          <div class="form-group row">
                            <label class=" col-md-2 col-form-label" for="text-input">Date</label>
                            <div class="col-4">
                              <input type="date" id="text-input" #date name="fiche" class="form-control">
                            </div>
                            <label class=" col-md-2 col-form-label3" for="text-input">Heure</label>
                            <div class="col-3">
                              <input type="text" id="text-input" #heure name="fiche" class="form-control">
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="card">
                        <div class="card-header">
                          Transport
                        </div>
                        <div class="card-body">
                          <div class="form-check form-check-inline mr-1" id="inline-radios">
                            <input class="form-check-input" type="radio" name="compteurradio" id="inlineRadio1"
                              value="option1" #option1>
                            <label class="form-check-label" for="inlineRadio1">Interne</label>
                          </div>
                          <label class="col-md-4 col-form-label" for="text-input"></label>
                          <div class="form-check form-check-inline mr-1">
                            <input class="form-check-input" type="radio" name="moisradio" id="inlineRadio2"
                              value="option2" #option2>
                            <label class="form-check-label" for="inlineRadio2">Externe</label>
                          </div>
                        </div>
                      </div>

                      <div class="card">
                        <div class="card-header">
                          Informations Vehicule/Chauffeur
                        </div>
                        <div class="card-body">
                          <div class="form-group row">
                            <label class=" col-md-4 col-form-label" for="select1">Matricule</label>
                            <div class="col-8 input-group">
                              <my-dropdown-select class="form-control" [placeholder]="'Select'">
                              </my-dropdown-select>
                            </div>
                          </div>
                          <div class="form-group row">
                            <label class=" col-md-4 col-form-label" for="select2">Conducteur</label>
                            <div class="col-8 input-group">
                              <my-dropdown-select class="form-control" [placeholder]="'Select'">
                              </my-dropdown-select>
                            </div>
                          </div>
                        </div>
                      </div>


                      <div class="card">
                        <div class="card-header">
                          Informations transporteur
                        </div>
                        <div class="card-body">
                          <div class="form-group row">
                            <label class=" col-md-4 col-form-label" for="select3">Transporteur</label>
                            <div class="col-8 input-group">
                              <my-dropdown-select class="form-control" [placeholder]="'Select'">
                              </my-dropdown-select>
                            </div>
                          </div>
                          <div class="form-group row">
                            <label class=" col-md-4 col-form-label" for="select4">Matricule</label>
                            <div class="col-8 input-group">
                              <my-dropdown-select class="form-control" [placeholder]="'Select'">
                              </my-dropdown-select>
                            </div>
                          </div>
                          <div class="form-group row">
                            <label class="col-md-4 col-form-label" for="text-input">Conducteur</label>
                            <div class="col-8">
                              <input type="text" id="compteur" #driver name="conducteur" class="form-control">
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="card">
                        <div class="card-header">
                          Informations consommation
                        </div>
                        <div class="card-body">
                          <div class="form-group row">
                            <label class=" col-md-3 col-form-label" for="text-input">N° carte</label>
                            <div class="col-3 input-group">
                              <my-dropdown-select class="form-control" [placeholder]="'Select'">
                              </my-dropdown-select>
                            </div>
                            <label class=" col-md-3 col-form-label" for="text-input">Qte (L)</label>
                            <div class="col-3">
                              <input type="number" id="text-input" #qte name="qte" class="form-control"
                                placeholder="0,000">
                            </div>
                          </div>

                          <div class="form-group row">
                            <label class=" col-md-3 col-form-label" for="text-input">Km precedent</label>
                            <div class="col-3">
                              <input type="number" id="text-input" #kmp name="kmp" class="form-control"
                                placeholder="0,00">
                            </div>
                            <label class=" col-md-3 col-form-label" for="text-input">Km actuel</label>
                            <div class="col-3">
                              <input type="number" id="text-input" #kma name="kma" class="form-control"
                                placeholder="0,00">
                            </div>
                          </div>
                          <div class="form-group row">
                            <label class=" col-md-3 col-form-label" for="text-input">Montant T.T.C</label>
                            <div class="col-3">
                              <input type="number" id="text-input" #ttc name="ttc" class="form-control"
                                placeholder="0,00">
                            </div>
                            <label class=" col-md-3 col-form-label" for="text-input">Montant H.T</label>
                            <div class="col-3">
                              <input type="number" id="text-input" #ht name="ht" class="form-control"
                                placeholder="0,00">
                            </div>
                          </div>

                        </div>
                      </div>
                    </div>
                    <div class="col-lg-6">
                      <div class="card">
                        <div class="card-header">
                          Informations fournisseur
                        </div>
                        <div class="card-body2">
                          <div class="form-group row">
                            <label class=" col-md-4 col-form-label" for="select2">Code</label>
                            <div class="col-8 input-group">
                              <my-dropdown-select class="form-control" [placeholder]="'Select'"
                                [selectPlaceholder]="'search...'" [errorMsg]="errorMessageDevice"
                                [showErrorMsg]="showErrorDevice" [options]="devices" [display]="'name'" [value]="'dID'"
                                [multiple]="false" [labelCount]="0" [selectedOptions]="selectedDevicesModal"
                                (selectionChange)="getSelectedDevicesModal($event)">
                              </my-dropdown-select>
                              <div class="input-group-append">
                                <span class="input-group-text"><i class="fa fa-key fa-sm"
                                    *ngIf="selectedDeviceModal?.length == 0"></i><i
                                    *ngIf="selectedDeviceModal != null">{{
                                    selectedDeviceModal
                                    }}</i></span>
                              </div>
                            </div>
                          </div>
                          <div class="form-group row">
                            <label class="col-md-4 col-form-label" for="text-input">Société</label>
                            <div class="col-8">
                              <input type="text" id="text-input" #societe name="societe" class="form-control">
                            </div>
                          </div>
                          <div class="form-group row">
                            <label class="col-md-4 col-form-label" for="text-input">Adresse</label>
                            <div class="col-8">
                              <textarea type="text" id="textarea-input" rows="5" #adress name="textarea-input"
                                class="form-control"></textarea>
                            </div>
                          </div>
                        </div>
                      </div>
                      <my-carburantmodal-table [data]="datatrajet">
                      </my-carburantmodal-table>
                      <div class="card">
                        <div class="card-header">
                          Consommation par citerne
                        </div>
                        <div class="card-body">
                          <div class="form-group row">
                            <input type="checkbox" value="option1" id="checkbox1" class="col-form-label"
                              style="margin-top: 10px;margin-left: 15px;">
                            <label class="col-md-4 col-form-label" for="checkbox1">Imputer stock citerne</label>
                            <label class="col-md-2 col-form-label" for="text-input">Citerne</label>
                            <div class="col-4">
                              <my-dropdown-select class="form-control" [placeholder]="'Select'">
                              </my-dropdown-select>
                            </div>
                          </div>

                          <div class="form-group row">
                            <label class="col-md-4 col-form-label" for="text-input">N° de Bon</label>
                            <div class="col-8">
                              <input type="number" id="text-input" #numb name="numbon" class="form-control"
                                placeholder="0">
                            </div>
                          </div>
                          <div class="form-group row">
                            <input type="checkbox" value="option2" id="checkbox2" class="col-form-label"
                              style="margin-top: 10px;margin-left: 15px;">
                            <label class="col-md-4 col-form-label" for="checkbox1">Plein ?</label>
                            <label class="col-md-2 col-form-label" for="text-input">Consom Moy</label>
                            <div class="col-4">
                              <input type="number" id="text-input" #numb name="numbon" class="form-control"
                                placeholder="0,00">
                            </div>
                            <label class="col-form-label" for="text-input">l/km</label>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="col-lg-12">
                      <div class="card-body">
                        <div class="form-group row">
                          <label class="col-2 col-form-label1" for="text-input">Total Km Théorique</label>
                          <div class="col-2">
                            <input type="number" id="compteur" #theo name="theo" class="form-control"
                              placeholder="0,00">
                          </div>
                          <label class="col-md-1 col-form-label1" for="text-input"> </label>
                          <label class="col-2 col-form-label1" for="text-input">Total Km Réel</label>
                          <div class="col-2">
                            <input type="number" id="compteur" #reel name="reel" class="form-control"
                              placeholder="0,00">
                          </div>
                          <label class="col-md-1 col-form-label1" for="text-input"> </label>
                          <label class="col-2 col-form-label2" for="text-input">DIF Km</label>
                          <div class="col-2">
                            <input type="number" id="compteur" #dif name="dif" class="form-control" placeholder="0,00">
                          </div>
                        </div>
                        </div>
                        </div>
                       
                       
                        <div class="col-lg-10">
                          <div class="card-body">
                        <div class="form-group row">
                          <label class="col-md-2 col-form-label" for="text-input">Observations</label>
                          <div class="col-10">
                            <textarea type="text" id="textarea-input" rows="5" #observ name="textarea-input"
                              class="form-control"></textarea>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" (click)="primaryModal.hide()">Close</button>
                <button type="reset" class="btn btn-sm btn-danger" (click)="reset()"> &nbsp; Annuler</button>
                <button type="button" class="btn btn-primary" *ngIf="isnotNum==false"
                  (click)="ajouter()">Ajouter</button>
              </div>
            </div><!-- /.modal-content -->
          </div><!-- /.modal-dialog -->
        </div><!-- /.modal -->
        <div [collapse]="isCollapsed" [isAnimated]="true" class="card-body">
          <form class="form-horizontal">
            <div class="form-group row">
              <div class="col-md-5">
                <my-daterangepicker #calendar [ngModelOptions]="{ standalone: true }" [(ngModel)]="value"
                  [options]="myDateRangePickerOptions"></my-daterangepicker>
              </div>
              <div class="col-md-3">
                <div class="controls">
                  <div class="input-group">
                    <div class="input-group-prepend">
                      <span class="input-group-text"><i class="fa fa-car fa-sm"></i></span>
                    </div>
                    <my-dropdown-select class="form-control" [placeholder]="'Vehicle Selection'"
                      [selectPlaceholder]="'search...'" [errorMsg]="errorMessageDevice" [showErrorMsg]="showErrorDevice"
                      [options]="devices" [display]="'name'" [value]="'dID'" [multiple]="false" [labelCount]="0"
                      [selectedOptions]="selectedDevices" (selectionChange)="getSelectedDevices($event)">
                    </my-dropdown-select>
                    <div class="input-group-append">
                      <span class="input-group-text"><i class="fa fa-key fa-sm"
                          *ngIf="selectedDevice == null"></i><i *ngIf="selectedDevice != null">{{
                          selectedDevice
                          }}</i></span>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-md-2">
                <div class="controls">
                  <div class="input-group">
                   <div class="input-group-append">
                      <span class="input-group-text"><i class="fa fa-filter fa-sm"></i></span>
                    </div>
                    <my-dropdown-select class="form-control" [placeholder]="'Citerne '"
                      [selectPlaceholder]="'Chercher...'"
                      [options]="citernes" [display]="'label'" [value]="'data'" [multiple]="false" [labelCount]="0"
                      [selectedOptions]="selectedCiternes" (selectionChange)="getSelectedCiternes($event)">
                    </my-dropdown-select>                    
                  </div>
                </div>
              </div>
              <div class="form-actions">
                <button type="submit" class="btn btn-sm btn-primary" [disabled]="loading">
                  <i class="fa fa-dot-circle-o" *ngIf="!loading"></i>
                  <i class="fa fa-circle-o-notch fa-lg mr-2 fa-spin" *ngIf="loading"></i> &nbsp;Apply
                </button>
              </div>
            </div>

          </form>
        </div>

      </div>
    </div>
    <!--/.col-->
  </div>
  <!--/.row-->
  <div class="row">
    <div class="col-lg-12">
      <my-gestioncarburant-table [data]="data">
      </my-gestioncarburant-table>
    </div>
  </div>

</div>